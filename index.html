<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inicio de sesión</title>
    <link rel="stylesheet" href="./css/estilos.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.main.css">


</head>
<body>
    <center>
    <p id="errorTxt"></p>
    <div class="camara">
        <video  id="theVideo" controls autoplay></video>
        <canvas id="theCanvas"></canvas>
    </div>
     <div class="boton">
    <button id="btnCapture">Capturar</button>
    <button id="btnDownloadImage">Descargar la captura imagen</button>
    <br>
    <br>
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script> -->
<form runat="server">
  <input type='file' id="imgInp" /> <br> 
  <img id="blah" src="#" alt="Imagen" />
</form>
     </div>
    <script type="text/javascript">
        var videoWidth = 320;
        var videoHeight = 240;
        var videoTag = document.getElementById('theVideo');
        var canvasTag = document.getElementById('theCanvas');
        var btnCapture = document.getElementById("btnCapture");
        var btnDownloadImage = document.getElementById("btnDownloadImage");
        videoTag.setAttribute('width', videoWidth);
        videoTag.setAttribute('height', videoHeight);
        canvasTag.setAttribute('width', videoWidth);
        canvasTag.setAttribute('height', videoHeight);
        window.onload = () => {
            navigator.mediaDevices.getUserMedia({
                audio: true,
                video: {
                    width: videoWidth,
                    height: videoHeight
                }
            }).then(stream => {
                videoTag.srcObject = stream;
            }).catch(e => {
                document.getElementById('errorTxt').innerHTML = 'ERROR: ' + e.toString();
            });
            var canvasContext = canvasTag.getContext('2d');
            btnCapture.addEventListener("click", () => {
                canvasContext.drawImage(videoTag, 0, 0, videoWidth, videoHeight);
            });
            btnDownloadImage.addEventListener("click", () => {
                var link = document.createElement('a');
                link.download = 'capturedImage.png';
                link.href = canvasTag.toDataURL();
                link.click();
            });
        };
        
    </script>  
   </center>
    
    <div class="container">

        <div class="card">

            <div class="top-row background-top-row">
                <i class="fa fa-user-circle-o" aria-hidden="true"></i>
            </div>
            <form action="Bienvenida.html">
                <div class="content">

                    <i class="fa fa-lock" aria-hidden="true"></i>
                     <h1>Login</h1>
                     <br>
                     <p>Nombre(s)</p>
                     <br>
                     <input type="text" name="" id="" class="text" required>
                     <br>
                     <p>Apellido(s)</p>
                     <br>
                     <input type="text" name="" id="" class="text" required>
                     <br>
                     <p>Contraseña</p>
                     <input type="password" name="" id="" class="text" required>
                     <input type="submit" value="Iniciar">
 
                     
     
                </div>

            </form>

            
            <div class="networks background-top-row ">

                <i class="fa fa-facebook" aria-hidden="true"></i>
                <i class="fa fa-google" aria-hidden="true"></i>
                <i class="fa fa-instagram" aria-hidden="true"></i>
            </div>

        </div>

    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script> 
</body>
</html>